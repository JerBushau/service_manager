<!doctype html>
<html lang="en">
  <head>
    <!-- not yet optimized for mobile -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title>Service Manager</title>
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
    <link rel='stylesheet' href='//cdnjs.cloudflare.com/ajax/libs/angular-loading-bar/0.9.0/loading-bar.min.css' type='text/css' media='all' />
    <link rel="stylesheet" href="/styles/css/main.css" type="text/css">
  </head>

  <body 
  id="top" 
  ng-app="serviceManager" 
  ng-controller="mainCtrl">

    <div id="navWrap">
      <nav class="nav">

        <form class="sortForm">
          <span class="refresh" ng-click="getAllCalls()">&#8635;</span>

          <h3 >Status:</h3>

          <select name="statusOptions" ng-model="status.completed">
            <option value="">All</option>
            <option value="false">Active</option>
            <option value="true">Complete</option>
          </select>

          <h3>Sort by:</h3>

          <select name="sortOptions" ng-model="prop">
            <option value="time">Most recent</option>
            <option value="-time">Oldest</option>
            <option value="-businessName">Customer name</option>
            <option value="-tech">Tech name</option>
          </select>

        </form>

        <span class="toTop" onclick="backToTop()">&#10145;</span>

        <div class="searchbar">

          <label>
            <input 
            type="text"
            placeholder="Search" 
            ng-model="search">
          </label>

        </div>

      </nav>
    </div>

    <div class="mainActions">
      <a class="toggleBtn" ng-click="form = !form">Click to toggle form</a>
    </div>

    <div class="list">

      <div id="formWrapper" ng-show="form">

        <div class="form add">

          <form ng-show="form" name="callInput">

            <div class="form-inner-wrapper">
              <div class="form-labels">
                <label for="customer">Customer:</label>
                <label for="contact">Contact:</label>
                <label for="tech">Tech:</label>
                <label for="phone">Phone:</label>
              </div>

              <div class="form-inputs">
                <input 
                name="customer" 
                type="text" 
                ng-model="call.businessName" 
                required/>
                <input name="contact" type="text" ng-model="call.contactName"/>
                <input name="tech" type="text" ng-model="call.tech">
                <input name="phone" type="text" ng-model="call.phone">
              </div>
            </div>

            <label for="decription">Description:</label>
            <br>
            <textarea 
            name="description" 
            rows="10" 
            cols="35" 
            ng-model="call.description" 
            required></textarea>

            <br>

            <button 
            ng-click="addCall(call)" 
            ng-disabled="!call.description">Add Call</button>

          </form>

        </div>

      </div>

      <div class="callContainer">
        <call></call>
      </div>

    </div> <!-- END LIST -->

    <footer>Jerbuilt 2k17</footer>
    
    <!-- scripts -->
    <script 
    src="http://code.jquery.com/jquery-3.1.1.min.js" 
    integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" 
    crossorigin="anonymous"></script>
    <script src="/scripts/vendor.bundle.js"></script>
    <script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/angular-loading-bar/0.9.0/loading-bar.min.js'></script>
    <script src="/vendor/jquery.sticky.js"></script>
    <script src="/scripts/call.bundle.js"></script>
    <script src="/scripts/stickie.js"></script>

  </body>
</html>
